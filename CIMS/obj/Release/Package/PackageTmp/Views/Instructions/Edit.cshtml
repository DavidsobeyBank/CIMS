@model IEnumerable<CIMS.Models.Action>

@{
    ViewBag.Title = "Instruction Commentary";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <div class="col-lg-6">
        <div class="form-horizontal">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="form-group">
                @Html.Label("Client: (Account - Name)", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.TextBox("Client", (String)ViewBag.Client, htmlAttributes: new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Process Type:", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.TextBox("InstructionType", (String)ViewBag.InstructionType, htmlAttributes: new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Branch:", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.TextBox("Branch", (String)ViewBag.Branch, htmlAttributes: new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Initial Currency:", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.TextBox("CurrencyFrom", (String)ViewBag.CurrencyFrom, htmlAttributes: new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Final Currency:", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.TextBox("CurrencyTo", (String)ViewBag.CurrencyTo, htmlAttributes: new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>

            <div class="form-group">
                @Html.Label("EE Reference:", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.TextBox("EERef", (String)ViewBag.EERef, htmlAttributes: new { @class = "form-control" })
                </div>
            </div>


            @foreach (var item in Model)
            {
                <div class="form-group">
                    @Html.LabelFor(modelItem => item.User.Name, "Comment - " +item.Status.Name + " ("+ item.User.Name+ " " + item.User.Surname+") :", htmlAttributes: new { @class = "control-label col-md-12" })
                    <div class="col-md-10">
                        @Html.TextBoxFor(modelItem => item.Comment, item.Comment, htmlAttributes: new { @class = "form-control", @readonly = "readonly" })
                    </div>
                </div>
            }

            
            
            
            <div class="form-group">
                @Html.Label("Comment", htmlAttributes: new { @class = "control-label col-md-12" })
                <div class="col-md-10">
                    @Html.TextArea("comment", null, new { @class = "form-control" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Save" class="btn btn-outline-primary" />
                </div>
            </div>
        </div>
    </div>
}

        <div>
            @Html.ActionLink("Back to List", "Index")
        </div>
